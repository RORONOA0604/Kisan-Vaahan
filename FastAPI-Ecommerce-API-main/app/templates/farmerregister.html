<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Create Farmer Account | Kisan Vaahan</title>
  <script src="https://cdn.tailwindcss.com"></script>

  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            'kisan-green': '#22C55E',
            'kisan-dark': '#047857',
            'kisan-light': '#D1FAE5',
          },
          boxShadow: {
            'custom-3d': '0 10px 15px -3px rgba(34, 197, 94, 0.1), 0 4px 6px -2px rgba(34, 197, 94, 0.05)',
            'card-lift': '0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.06)',
          }
        }
      }
    }
  </script>
</head>

<body class="bg-gray-50 font-sans text-gray-800" style="zoom: 70%; overflow-x: hidden;">

<header class="bg-white shadow-md sticky top-0 z-30 py-3">
  <div class="flex justify-between items-center px-10 md:px-4 py-1 max-w-8xl mx-auto">

    <!-- LOGO + NAME -->
    <div class="flex items-center space-x-5 cursor-pointer">
      <img src="{{ url_for('static', path='logo.png') }}" alt="Kisan Vaahan Logo"
           class="h-28 w-28 object-contain transform hover:rotate-6 transition duration-300" />

      <h1 class="text-4xl font-extrabold text-kisan-dark tracking-tight leading-none transform hover:scale-105 transition duration-300">
        KISAN VAAHAN
      </h1>
    </div>

  </div>
</header>

<!-- Registration Section -->
<section class="flex justify-center items-center min-h-screen px-6">
  <div class="bg-white w-full max-w-md shadow-xl rounded-xl p-10 border border-gray-200">

    <h2 class="text-3xl font-extrabold text-center text-kisan-dark">Create Farmer Account</h2>
    <p class="text-center text-gray-600 mt-2">Join us and sell your fresh products directly to consumers</p>

    <form id="farmerRegisterForm" class="mt-10 space-y-6" onsubmit="handleCreateAccount(event)">

      <div>
        <label class="block text-sm font-semibold text-gray-700">Full Name</label>
        <input id="fullName" name="fullName" type="text"
               class="w-full mt-2 p-3 border rounded-lg focus:ring-2 focus:ring-kisan-green"
               placeholder="Your full name" required>
      </div>

      <div>
        <label class="block text-sm font-semibold text-gray-700">Phone Number</label>
        <input id="phone" name="phone" type="tel"
               class="w-full mt-2 p-3 border rounded-lg focus:ring-2 focus:ring-kisan-green"
               placeholder="Mobile number" required>
      </div>

      <div>
        <label class="block text-sm font-semibold text-gray-700">Location / Village</label>
        <input id="location" name="location" type="text"
               class="w-full mt-2 p-3 border rounded-lg focus:ring-2 focus:ring-kisan-green"
               placeholder="Your village / city" required>
      </div>

      <div>
        <label class="block text-sm font-semibold text-gray-700">Password</label>
        <input id="password" name="password" type="password"
               class="w-full mt-2 p-3 border rounded-lg focus:ring-2 focus:ring-kisan-green"
               placeholder="Create password" required>
      </div>

      <button type="submit"
        class="w-full bg-kisan-green text-white py-3 rounded-lg text-lg font-bold hover:bg-kisan-dark transition duration-300 shadow-md hover:scale-[1.02]">
        Create Account
      </button>
    </form>

    <p class="text-center text-sm text-gray-700 mt-6">
      Already have an account?
      <a href="{{ url_for('farmer_login') }}" class="text-kisan-dark font-semibold hover:underline">
        Login â†’
      </a>
    </p>

  </div>
</section>

<!-- FOOTER -->
<footer class="bg-kisan-dark text-white py-12 text-center" style="zoom: 70%; overflow-x: hidden;">
  <div class="max-w-6xl mx-auto px-6">
    <h4 class="font-bold text-xl mb-4">Kisan Vaahan</h4>
    <div class="space-x-6 text-sm mb-6">
      <a href="{{ url_for('landing_page') }}" class="hover:text-kisan-green transition duration-300">Home</a>
      <a href="{{ url_for('about') }}" class="hover:text-kisan-green transition duration-300">About Us</a>
      <a href="{{ url_for('contact') }}" class="hover:text-kisan-green transition duration-300">Contact Us</a>
    </div>

    <p class="mt-4 text-lg">KisanVaahan Corporate Office, Bengaluru, Karnataka</p>
    <p class="mt-2 text-lg">ðŸ“ž <span class="text-kisan-green">+91 9742482379</span> | âœ‰ <span class="text-kisan-green">customercare@kisanvaahan.in</span></p>
    
    <div class="border-t border-white/20 mt-8 pt-4">
      <p class="text-lg text-gray-400">Â© 2025, KisanVaahan. All rights reserved.</p>
      <div class="space-x-4 text-lg mt-1">
        <a href="{{ url_for('contact') }}" class="hover:text-kisan-green transition duration-300">Privacy Policy</a>
        <a href="{{ url_for('contact') }}" class="hover:text-kisan-green transition duration-300">Terms of Service</a>
      </div>
    </div>
  </div>
</footer>

<script>
  // Collects form data, stores a simple record in localStorage, then redirects to success page
  function handleCreateAccount(e) {
    e.preventDefault();

    const name = document.getElementById('fullName').value.trim();
    const phone = document.getElementById('phone').value.trim();
    const location = document.getElementById('location').value.trim();
    const password = document.getElementById('password').value;

    // rudimentary client-side validation
    if (!name || !phone || !location || !password) {
      alert('Please fill all fields.');
      return;
    }

    // store example farmer record (in real app send to backend via fetch)
    const farmers = JSON.parse(localStorage.getItem('kisan_farmers') || '[]');
    farmers.push({ name, phone, location, createdAt: new Date().toISOString() });
    localStorage.setItem('kisan_farmers', JSON.stringify(farmers));

    // optional: store logged-in farmer name
    localStorage.setItem('loggedFarmer', name);

    // redirect to server-side success route (must exist in FastAPI)
    window.location.href = "{{ url_for('farmer_register_success') }}";
  }
</script>

</body>
</html>
